#!/bin/sh
# Pre-commit hook: runs the same checks as CI
# Install with: make install-hooks

echo "Running pre-commit checks..."

# Source profile to get PATH (cinch is installed globally)
export PATH="$HOME/.cinch/bin:$PATH"
cinch run

if [ $? -ne 0 ]; then
    echo ""
    echo "Pre-commit checks failed. Fix issues before committing."
    echo "To bypass (not recommended): git commit --no-verify"
    exit 1
fi
